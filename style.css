body {
    margin: 0;
    background-color: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    font-family: monospace;
}

#container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

#bg_canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
}

/* We don't need output_canvas for drawing anymore, but we might keep it for debugging or if the logic requires it temporarily. 
   However, the requirement is to render to texture. We'll hide it or remove it. 
   Let's keep it hidden for now as the offscreen canvas logic might use it or we might need it for the texture source if we don't use the video directly.
   Actually, we can use the video element or an offscreen canvas as the texture source. */
.output_canvas {
    display: none; 
}

.input_video {
    display: none;
}

#status {
    position: absolute;
    color: cyan;
    z-index: 2;
    top: 10px;
    left: 10px;
    background: rgba(0, 0, 0, 0.8);
    padding: 8px 12px;
    border-radius: 4px;
    pointer-events: none;
}

/* Menu UI */
#menu-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(10px);
    z-index: 100;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: opacity 0.5s ease;
}

#menu-overlay.hidden {
    opacity: 0;
    pointer-events: none;
}

.menu-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    text-align: center;
}

.menu-title {
    color: #00ffff;
    font-size: 24px;
    margin-bottom: 20px;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

.mode-btn {
    background: transparent;
    border: 1px solid #00ffff;
    color: #00ffff;
    padding: 12px 24px;
    font-family: monospace;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    border-radius: 4px;
    min-width: 250px;
}

.mode-btn:hover {
    background: rgba(0, 255, 255, 0.2);
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.4);
    transform: scale(1.05);
}

#controls {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 3;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(10px);
    padding: 20px;
    border-radius: 12px;
    border: 1px solid rgba(0, 255, 255, 0.3);
    max-width: 300px;
    color: #fff;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: none; /* Hidden by default, shown if needed or we can toggle it */
}

/* Show controls only if we want them, or maybe add a toggle button. 
   For now, let's keep them accessible but maybe hidden initially or just visible. 
   The prompt says "Ensure the 'controls' UI is still accessible or hidden depending on your judgment".
   I'll make them visible when the menu is hidden. */
body.menu-active #controls {
    display: none;
}
body:not(.menu-active) #controls {
    display: block;
}

#controls h3 {
    margin: 0 0 15px 0;
    color: #00ffff;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 1px solid rgba(0, 255, 255, 0.3);
    padding-bottom: 8px;
}

.control-group {
    margin-bottom: 18px;
}

.control-group label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
    font-size: 12px;
    color: #aaa;
}

.control-group .value {
    color: #00ff00;
    font-weight: bold;
    font-family: monospace;
}

input[type="range"] {
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    outline: none;
    -webkit-appearance: none;
    appearance: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: linear-gradient(135deg, #00ffff, #00ff00);
    cursor: pointer;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: linear-gradient(135deg, #00ffff, #00ff00);
    cursor: pointer;
    border: none;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: #00ffff;
}

.checkbox-control {
    display: flex;
    align-items: center;
    gap: 10px;
}

.checkbox-control label {
    margin: 0;
}

.section-divider {
    height: 1px;
    background: rgba(255, 255, 255, 0.1);
    margin: 20px 0;
}

#back-to-menu {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid #00ffff;
    color: #00ffff;
    padding: 8px 16px;
    border-radius: 20px;
    cursor: pointer;
    font-family: monospace;
    text-transform: uppercase;
    transition: all 0.3s ease;
    display: none;
}

body:not(.menu-active) #back-to-menu {
    display: block;
}

#back-to-menu:hover {
    background: rgba(0, 255, 255, 0.2);
}
